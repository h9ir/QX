# ===============================
# 百度网页去广告 + DOM清除空白脚本
# 拦截广告请求 + 注入CSS隐藏广告DOM，避免白块
# ===============================

# Baidu 广告接口拦截（减少加载广告资源）
^https?:\/\/(www|m)\.baidu\.com\/(s|baidu)\?.*?(tn=monline_|eqid|f=.*?ad).* url reject
^https?:\/\/(www|m)\.baidu\.com\/.*?sclick.* url reject
^https?:\/\/(www|m)\.baidu\.com\/(ssid|pn|us).*ad.* url reject
^https?:\/\/(www|m)\.baidu\.com\/rec.* url reject
^https?:\/\/(www|m)\.baidu\.com\/.*?hotrec.* url reject
^https?:\/\/(www|m)\.baidu\.com\/.*?newspage.*ad.* url reject
^https?:\/\/sp\d\.baidu\.com\/.*?(ad|tj|log|union).* url reject
^https?:\/\/mbd\.baidu\.com\/.*(ad|promotion).* url reject
^https?:\/\/afd\.baidu\.com\/afd\/entry.* url reject
^https?:\/\/ssp\.baidu\.com\/.* url reject
^https?:\/\/(www|m)\.baidu\.com\/.+(fcad|adrc|adsem|tj|union|log)\/.+ url reject
^https?:\/\/(www|m)\.baidu\.com\/.*pixel.* url reject
^https?:\/\/(www|m)\.baidu\.com\/hotword.* url reject
^https?:\/\/(www|m)\.baidu\.com\/api\/.*?(ad|promotion|tj).* url reject
^https?:\/\/hm\.baidu\.com\/.* url reject
# ===============================
# 脚本处理 DOM，去除广告后留下的空白区域
# ===============================
^https?:\/\/(www|m)\.baidu\.com\/.*$ script-response-body https://raw.githubusercontent.com/h9ir/QX/main/Baidu.js

[mitm]
hostname = *.baidu.com